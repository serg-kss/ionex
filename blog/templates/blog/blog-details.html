{% extends "root.html" %}
{% load static %}
{% load goods_tags %}

{% block modal_cart %}
{% include "includes/cart_button.html" %}
{% endblock modal_cart %}


{% block content %}
<style>
  .article-content img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 1rem 0;
  }
  table {
    width: 100%;
    border-collapse: collapse;
  }

  table,
  th,
  td {
    border: 1px solid rgb(0, 0, 0);
  }

  th,
  td {
    padding: 8px;
    text-align: left;
  }
</style>

    <!-- Page Title -->
    <div class="page-title light-background">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">{{article.name}}</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="{% url "blog:index_main" %}">Блог</a></li>
            <li class="current">{{article.name|truncatechars:25}}</li>
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <div class="container">
      <div class="row">

        <div class="col-lg-8">

          <!-- Blog Details Section -->
          <section id="blog-details" class="blog-details section">
            <div class="container">

              <article class="article article-content">{{article.content|safe}}</article>

            </div>
          </section><!-- /Blog Details Section -->

        </div>

        <div class="col-lg-4 sidebar">

          <div class="widgets-container">

            <!-- Categories Widget -->
            <div class="categories-widget widget-item">

              <h3 class="widget-title">Категорії</h3>
              <ul class="mt-3">
                {% for item in blog %}
                 <li><a href="{% url "blog:index" item.topic.slug %}">{{item.topic.name}} <span>({{item.index}})</span></a></li>
                {% endfor %}
              </ul>

            </div><!--/Categories Widget -->


          </div>

        </div>

      </div>
    </div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    document
      .querySelectorAll(".article-content table")
      .forEach(function (table) {
        const wrapper = document.createElement("div");
        wrapper.classList.add("table-responsive");
        table.parentNode.insertBefore(wrapper, table);
        wrapper.appendChild(table);
      });
  });
</script>
{% endblock content %}

